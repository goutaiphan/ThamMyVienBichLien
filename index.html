<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Thẩm mỹ viện Bích Liên</title>
    <link href="style/baseStyle.css" rel="stylesheet">
    <link href="style/fontStyle.css" rel="stylesheet">
    <link href="style/animationStyle.css" rel="stylesheet">
    <link href="style/introStyle.css" rel="stylesheet">
    <link href="style/menuStyle.css" rel="stylesheet">
    <link href="style/serviceStyle.css" rel="stylesheet">

    <meta property="og:type" content="website"/>
    <meta property="og:url" content="thammyvienbichlien.com"/>
    <meta property="og:title" content="Thẩm mỹ viện Bích Liên"/>
    <meta property="og:description" content="Chăm sóc sức khỏe và sắc đẹp toàn diện."/>
    <meta property="og:image" content="asset/TriangleBackground.png"/>

    <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0"/>
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
</head>
<body>
<div id="titleArea">
    <p>Thẩm mỹ viện</p>
    <p>Bích Liên</p>
</div>
<p id="intro">Với hơn 15 năm kinh nghiệm, thẩm mỹ viện Bích Liên
    rất vinh hạnh được đồng hành cùng quý khách trên chặng đường
    chăm sóc sức khỏe và sắc đẹp toàn diện.</p>
</body>

<div id="menuArea">
    <a href="#">Giới thiệu</a>
    <a href="#">Phẫu thuật thẩm mỹ</a>
    <a href="#">Chăm sóc thẩm mỹ</a>
    <a href="#">Liên hệ</a>
    <div id="indicator"></div>
</div>

<div id="serviceArea"></div>
</html>

<script>
    document.write(String(window.innerWidth));
    let serviceData = getFileData('document/PhauThuatThamMy.txt');
    let serviceParent = getFileArray(serviceData, 0);
    let serviceChild = getFileArray(serviceData, 1);

    let serviceDataEN = getFileData('document/PhauThuatThamMyEN.txt');
    let serviceChildEN = getFileArray(serviceDataEN, 1);

    let serviceArea = document.getElementById('serviceArea');

    for (let i = 0; i < serviceParent.length; i++) {
        let serviceHead = document.createElement('img');
        serviceArea.appendChild(serviceHead);
        serviceHead.id = 'serviceHead';
        serviceHead.src = 'asset/Service-TreHoaKhuonMat.png';

        let serviceBody = document.createElement('div');
        serviceBody.id = 'serviceBody';
        serviceArea.appendChild(serviceBody);

        for (let j = 0; j < serviceChild[i].length; j++) {
            let service = document.createElement('div');
            let serviceVI = document.createElement('p');
            let serviceEN = document.createElement('p');
            service.appendChild(serviceVI);
            service.appendChild(serviceEN);
            serviceBody.appendChild(service);

            service.id = 'service';
            serviceVI.id = 'serviceVI';
            serviceEN.id = 'serviceEN';
            serviceVI.innerHTML = serviceChild[i][j];
            serviceEN.innerHTML = serviceChildEN[i][j];
        }
    }

    function getFileArray(fileData, fileType) {
        let fileTitle = fileData.split('|')[0];
        let fileContent = fileData.split('|')[1];

        let fileParent = fileTitle.replaceAll('<br>', ' ')
            .split('\n').filter(item => item);

        let fileChild = [];
        for (let i = 0; i < fileParent.length; i++) {
            let startIndex = fileContent.indexOf(fileParent[i]) + fileParent[i].length;
            let endIndex = i === fileParent.length - 1
                ? fileContent.length
                : fileContent.indexOf(fileParent[i + 1]);
            let array = fileContent.substring(startIndex, endIndex).split('\n').filter(item => item);
            fileChild.push(array);
        }

        return fileType === 0
            ? fileParent
            : fileChild;
    }

    function getFileData(url) {
        let request = new XMLHttpRequest();
        request.open('get', url, false);
        request.send(null);
        return request.responseText
            .replaceAll('\t', '')
            .replaceAll('\r\n', '\n');
    }
</script>