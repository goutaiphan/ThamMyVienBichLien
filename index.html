<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Thẩm mỹ viện Bích Liên</title>
    <link href="style.css" rel="stylesheet">
    <link href="baseStyle.css" rel="stylesheet">
    <link href="menuStyle.css" rel="stylesheet">

    <meta property="og:type" content="website"/>
    <meta property="og:url" content="thammyvienbichlien.com"/>
    <meta property="og:title" content="Thẩm mỹ viện Bích Liên"/>
    <meta property="og:description" content="Chăm sóc sức khỏe và sắc đẹp toàn diện."/>
    <meta property="og:image" content="asset/TriangleBackground.png"/>

    <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
</head>
<body>
<div id="titleArea">
    <p>Thẩm mỹ viện</p>
    <p>Bích Liên</p>
</div>
<p id="intro">Với hơn 15 năm kinh nghiệm, thẩm mỹ viện Bích Liên
    <br>rất vinh hạnh được đồng hành cùng quý khách trên chặng đường
    <br>chăm sóc sức khỏe và sắc đẹp toàn diện.</p>
</body>

<nav>
    <a href="#">Giới thiệu</a>
    <a href="#">Phẫu thuật thẩm mỹ</a>
    <a href="#">Chăm sóc thẩm mỹ</a>
    <a href="#">Liên hệ</a>
    <div id="indicator"></div>
</nav>

<div id="serviceArea"></div>
</html>

<script>
    let fileData = getFileData('document/PhauThuatThamMy.txt')
        .replaceAll('\t', '')
        .replaceAll('\r\n', '\n');
    let fileTitle = fileData.split('|')[0];
    let fileContent = fileData.split('|')[1];

    let titleArray = fileTitle.split('\n').filter(item => item);
    let labelArray = fileTitle.replaceAll('<br>', ' ')
        .split('\n').filter(item => item);

    let serviceArray = [];
    for (let i = 0; i < labelArray.length; i++) {
        let startIndex = fileContent.indexOf(labelArray[i]) + labelArray[i].length;
        let endIndex = i === labelArray.length - 1
            ? fileContent.length
            : fileContent.indexOf(labelArray[i + 1]);
        let array = fileContent.substring(startIndex, endIndex).split('\n').filter(item => item);
        serviceArray.push(array);
    }
    console.log(serviceArray);

    let serviceArea = document.getElementById('serviceArea');

    for (let i = 0; i < labelArray.length; i++) {
        let table = document.createElement('table');

        for (let j = 0; j < serviceArray[i].length; j++) {
            let tableRow = document.createElement('tr');
            let tableCell0 = document.createElement('td');
            let tableCell1 = document.createElement('td');

            if (j === 0) {
                tableCell0.rowSpan = serviceArray[i].length;
                tableCell0.innerHTML = titleArray[i];
                tableCell1.innerHTML = serviceArray[i][j];
                tableRow.appendChild(tableCell0);
                tableRow.appendChild(tableCell1);
            } else {
                tableCell1.innerHTML = serviceArray[i][j];
                tableRow.appendChild(tableCell1);
            }
            table.appendChild(tableRow);
        }
        serviceArea.appendChild(table);
    }

    function getFileData(url) {
        let request = new XMLHttpRequest();
        request.open('get', url, false);
        request.send(null);
        return request.responseText;
    }
</script>